{% extends "base.html" %}
{% load static i18n %}

{% block title %}{% trans "Our Team" %} | Fishtail Homes{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'core/core.css' %}">
    <style>
        .team-card {
            transition: all 0.3s ease;
        }
        .team-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 10px 30px rgba(41, 152, 204, 0.15) !important;
            border-color: var(--fishtail-primary, #2998cc) !important;
        }
        .team-card:hover .team-image {
            transform: scale(1.05);
        }
        .social-icon {
            transition: all 0.3s ease;
        }
        .social-icon:hover {
            transform: scale(1.2);
            color: var(--fishtail-primary, #2998cc) !important;
        }
        .ceo-message-card {
            border-left: 5px solid var(--fishtail-primary, #2998cc);
        }
    </style>
{% endblock %}

{% block content %}
    <!-- Hero Section -->
    <section class="py-3 bg-light border-bottom" style="background: linear-gradient(to bottom, #f8fafc 0%, #ffffff 100%);">
        <div class="container">
            <div class="position-relative">
                <div class="position-absolute top-0 start-0" style="width: 120px; height: 3px; background: var(--fishtail-primary, #2998cc);"></div>
                <div style="padding-top: 2px;">
                    <h1 class="display-5 fw-semibold text-dark mb-4" style="letter-spacing: -0.02em; position: relative;">
                        {% trans "Our Team" %}
                        <span class="position-absolute bottom-0 d-block" style="left: 0; width: 60px; height: 3px; background: var(--fishtail-primary, #2998cc); border-radius: 2px; transform: translateY(12px);"></span>
                    </h1>
                    <p class="text-muted fw-light mb-0" style="max-width: 900px; line-height: 1.7; font-size: 1rem;">
                        {% trans "Meet the dedicated professionals who bring expertise, passion, and commitment to serving our clients with excellence." %}
                    </p>
                </div>
            </div>
        </div>
    </section>

    {% if ceo %}
    <!-- CEO Message Section -->
    <section class="py-5 bg-white">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-4 mb-4 mb-lg-0 text-center">
                    {% if ceo.image %}
                        <img src="{{ ceo.image.url }}" class="rounded-circle shadow-lg" 
                             alt="{{ ceo.get_translated_name }}" 
                             style="width: 200px; height: 200px; object-fit: cover;">
                    {% else %}
                        <div class="rounded-circle mx-auto d-flex align-items-center justify-content-center shadow-lg" 
                             style="width: 200px; height: 200px; background: linear-gradient(135deg, var(--fishtail-primary, #2998cc) 0%, var(--fishtail-secondary, #1e3a8a) 100%);">
                            <i class="bi bi-person-circle text-white" style="font-size: 120px;"></i>
                        </div>
                    {% endif %}
                </div>
                <div class="col-lg-8">
                    <div class="card ceo-message-card border-0 shadow-sm">
                        <div class="card-body p-4">
                            <h3 class="h4 fw-semibold mb-3">
                                {% trans "Message from Our CEO" %}
                            </h3>
                            <p class="text-muted mb-4" style="line-height: 1.8;">
                                {{ ceo.get_translated_blog | safe }}
                            </p>
                            <div class="d-flex align-items-center">
                                <strong class="me-2">{{ ceo.get_translated_name }}</strong>
                                <span class="text-muted">- {{ ceo.get_translated_position }}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    {% endif %}

    {% if team_members %}
    <!-- Team Members Grid -->
    <section class="py-5" style="background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);">
        <div class="container">
            <h2 class="text-center fw-semibold mb-5 position-relative pb-4">
                {% trans "Our Team Members" %}
                <span class="position-absolute bottom-0 start-50 translate-middle-x d-block" 
                      style="width: 70px; height: 4px; background: linear-gradient(90deg, var(--fishtail-primary, #2998cc), var(--fishtail-secondary, #1e3a8a)); border-radius: 3px;"></span>
            </h2>
            <div class="row">
                {% for member in team_members %}
                <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
                    <div class="card team-card h-100 border-2 rounded-3 shadow-lg text-center">
                        <div class="card-body p-4">
                            <div class="position-relative mb-3">
                                <button type="button" class="btn p-0 border-0" data-bs-toggle="modal" data-bs-target="#memberModal{{ member.unique_id }}">
                                    {% if member.image %}
                                        <img src="{{ member.image.url }}" class="team-image rounded-circle mx-auto d-block shadow" 
                                             alt="{{ member.get_translated_name }}" 
                                             style="width: 120px; height: 120px; object-fit: cover; transition: transform 0.3s ease;">
                                    {% else %}
                                        <div class="team-image rounded-circle mx-auto d-flex align-items-center justify-content-center" 
                                             style="width: 120px; height: 120px; background: linear-gradient(135deg, var(--fishtail-primary, #2998cc) 0%, var(--fishtail-secondary, #1e3a8a) 100%); transition: transform 0.3s ease;">
                                            <i class="bi bi-person-circle text-white" style="font-size: 80px;"></i>
                                        </div>
                                    {% endif %}
                                </button>
                            </div>
                            
                            <h5 class="fw-semibold mb-2">
                                <button type="button" class="btn p-0 border-0 text-dark fw-semibold" data-bs-toggle="modal" data-bs-target="#memberModal{{ member.unique_id }}">
                                    {{ member.get_translated_name }}
                                </button>
                            </h5>
                            <p class="text-muted small mb-3">{{ member.get_translated_position }}</p>
                            
                            <div class="d-flex justify-content-center gap-3">
                                {% if member.twitter %}
                                <a href="{{ member.twitter }}" target="_blank" rel="noopener noreferrer" class="social-icon text-muted">
                                    <i class="bi bi-twitter fs-5"></i>
                                </a>
                                {% endif %}
                                {% if member.facebook %}
                                <a href="{{ member.facebook }}" target="_blank" rel="noopener noreferrer" class="social-icon text-muted">
                                    <i class="bi bi-facebook fs-5"></i>
                                </a>
                                {% endif %}
                                {% if member.instagram %}
                                <a href="{{ member.instagram }}" target="_blank" rel="noopener noreferrer" class="social-icon text-muted">
                                    <i class="bi bi-instagram fs-5"></i>
                                </a>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Modal -->
                <div class="modal fade" id="memberModal{{ member.unique_id }}" tabindex="-1"
                     aria-labelledby="memberModalLabel{{ member.unique_id }}" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered modal-lg">
                        <div class="modal-content border-2 rounded-3 shadow-lg">
                            <div class="modal-header border-bottom bg-light">
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="{% trans 'Close' %}"></button>
                            </div>
                            <div class="modal-body text-center p-4">
                                <div class="position-relative mb-4">
                                    {% if member.image %}
                                        <img src="{{ member.image.url }}" class="rounded-circle mx-auto d-block shadow" 
                                             alt="{{ member.get_translated_name }}" 
                                             style="width: 150px; height: 150px; object-fit: cover;">
                                    {% else %}
                                        <div class="rounded-circle mx-auto d-flex align-items-center justify-content-center" 
                                             style="width: 150px; height: 150px; background: linear-gradient(135deg, var(--fishtail-primary, #2998cc) 0%, var(--fishtail-secondary, #1e3a8a) 100%);">
                                            <i class="bi bi-person-circle text-white" style="font-size: 100px;"></i>
                                        </div>
                                    {% endif %}
                                </div>
                                
                                <h4 class="fw-bold mb-2">{{ member.get_translated_name }}</h4>
                                <p class="text-muted mb-4">{{ member.get_translated_position }}</p>

                                <div class="d-flex justify-content-center gap-3 mb-4">
                                    {% if member.twitter %}
                                    <a href="{{ member.twitter }}" target="_blank" rel="noopener noreferrer" class="social-icon text-muted">
                                        <i class="bi bi-twitter fs-4"></i>
                                    </a>
                                    {% endif %}
                                    {% if member.facebook %}
                                    <a href="{{ member.facebook }}" target="_blank" rel="noopener noreferrer" class="social-icon text-muted">
                                        <i class="bi bi-facebook fs-4"></i>
                                    </a>
                                    {% endif %}
                                    {% if member.instagram %}
                                    <a href="{{ member.instagram }}" target="_blank" rel="noopener noreferrer" class="social-icon text-muted">
                                        <i class="bi bi-instagram fs-4"></i>
                                    </a>
                                    {% endif %}
                                </div>

                                {% if member.get_translated_blog %}
                                <hr class="my-4">
                                <div class="text-start">
                                    {{ member.get_translated_blog | safe }}
                                </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>
    {% else %}
    <!-- No Team Members Available -->
    <section class="py-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <div class="text-center border border-2 border-dashed rounded-3 p-5 bg-white">
                        <i class="bi bi-people text-muted" style="font-size: 3rem;"></i>
                        <h3 class="h5 text-muted mt-3 mb-2">{% trans "Team Members Coming Soon" %}</h3>
                        <p class="text-muted mb-0">{% trans "Our team information is being updated. Please check back later to meet our dedicated professionals." %}</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    {% endif %}

    <!-- No CEO or Team Available -->
    {% if not ceo and not team_members %}
    <section class="py-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-8">
                    <div class="text-center border border-2 border-dashed rounded-3 p-5 bg-white">
                        <i class="bi bi-people text-muted" style="font-size: 3rem;"></i>
                        <h3 class="h5 text-muted mt-3 mb-2">{% trans "Team Members Coming Soon" %}</h3>
                        <p class="text-muted mb-0">{% trans "Our team information is being updated. Please check back later to meet our dedicated professionals." %}</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    {% endif %}
{% endblock %}
